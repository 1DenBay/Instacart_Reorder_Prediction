# 1- Python 3.11 yüklü hafif bir Linux sürümü kullan
FROM python:3.11-slim

# 2- Çalışma Klasörü: Konteynerin içinde '/app' diye bir klasör aç
WORKDIR /app

# 3- Kütüphaneler: Önce listeyi kopyala ve yükle
# (Bunu ayrı yapıyoruz ki kod değişince tekrar tekrar yükleme yapmasın, hız kazanalım)
COPY requirements.txt .
RUN pip install --no-cache-dir -r requirements.txt

# 4- Dosyalar: Klasördeki her şeyi (app.py, model, veritabanı, templates) içeri kopyala
COPY . .

# 5- Port: Flask'ın çalıştığı 5000 portunu dışarıya aç
EXPOSE 5000

# 6- Başlat: Konteyner çalışınca bu komutu gir
CMD ["python", "app.py"]